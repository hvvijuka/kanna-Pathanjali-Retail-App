{"version":3,"file":"static/js/460.d5e9bf30.chunk.js","mappings":"wMAUe,SAASA,IACtB,MAAM,KAAEC,EAAI,UAAEC,EAAS,OAAEC,EAAM,MAAEC,IAAUC,EAAAA,EAAAA,MACrC,KAAEC,IAASC,EAAAA,EAAAA,KACXC,GAAWC,EAAAA,EAAAA,MAEXC,EAAQT,EAAKU,OAAO,CAACC,EAAEC,IAAKD,EAAKE,OAAOD,EAAEE,OAAO,GAAKD,OAAOD,EAAEG,KAAK,GAAK,GAe/E,OACEC,EAAAA,EAAAA,MAAA,OAAKC,UAAU,wBAAuBC,SAAA,EACpCC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,0BAAyBC,SAAC,cACzB,IAAdlB,EAAKoB,QAAaD,EAAAA,EAAAA,KAAA,KAAAD,SAAG,sBACpBF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,8BAA6BC,SAAA,CACzClB,EAAKqB,IAAIT,IACRI,EAAAA,EAAAA,MAAA,OAAgBC,UAAU,wCAAuCC,SAAA,EAC/DC,EAAAA,EAAAA,KAAA,OAAKG,IAAKV,EAAEW,YAAcX,EAAEY,MAAOC,IAAKb,EAAEc,KAAMT,UAAU,oCAC1DD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,SAAQC,SAAA,EACrBC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,gBAAeC,SAAEN,EAAEc,QAClCV,EAAAA,EAAAA,MAAA,OAAKC,UAAU,UAASC,SAAA,CAAC,SAAEN,EAAEE,aAE/BK,EAAAA,EAAAA,KAAA,OAAAD,UACEC,EAAAA,EAAAA,KAAA,SAAOQ,KAAK,SAASC,MAAOhB,EAAEG,IAAKc,SAAWC,GAAK7B,EAAUW,EAAEmB,GAAIlB,OAAOiB,EAAEE,OAAOJ,OAAO,IAAKX,UAAU,+BAE3GD,EAAAA,EAAAA,MAAA,OAAKC,UAAU,OAAMC,SAAA,CAAC,SAAEL,OAAOD,EAAEE,OAAO,GAAKD,OAAOD,EAAEG,KAAK,OAC3DI,EAAAA,EAAAA,KAAA,UAAQc,QAASA,IAAK/B,EAAOU,EAAEmB,IAAKd,UAAU,eAAcC,SAAC,aAVrDN,EAAEmB,MAcdf,EAAAA,EAAAA,MAAA,OAAKC,UAAU,yCAAwCC,SAAA,EACrDF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,YAAWC,SAAA,CAAC,gBAAST,MACpCO,EAAAA,EAAAA,MAAA,OAAKC,UAAU,aAAYC,SAAA,EACzBC,EAAAA,EAAAA,KAAA,UAAQc,QAASA,IAAK1B,EAAS,SAAUU,UAAU,2BAA0BC,SAAC,cAC9EC,EAAAA,EAAAA,KAAA,UAAQc,QArCDC,UACjB,IAAI7B,EAAM,OAAO8B,MAAM,4CACvB,GAAiB,IAAdnC,EAAKoB,OAAY,OAAOe,MAAM,cACjC,MAAMC,EAAU,CAAEC,OAAQhC,EAAKiC,KAAK,OAAQC,SAAUlC,EAAKkC,UAAU,OAAQC,MAAOxC,EAAMyC,YAAahC,EAAOiC,cAAe,MAAOC,cAAe,GACnJ,IACE,MAAMC,QAAYC,IAAIC,WAAWV,GACjCD,MAAM,iBAAmBS,EAAIN,KAE7BnC,IACAI,EAAS,UACX,CAAC,MAAMwC,GAAMC,QAAQC,MAAMF,GAAMZ,MAAM,wBAA0B,GA2B1BlB,UAAU,4CAA2CC,SAAC,iCAOjG,C","sources":["components/CartPage.js"],"sourcesContent":["\r\n// -----------------------------\r\n// File: src/components/CartPage.js\r\n// -----------------------------\r\nimport React from 'react';\r\nimport { useCart } from '../context/CartContext';\r\nimport { useAuth } from '../context/AuthContext';\r\n// import api from '../utils/api';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nexport default function CartPage(){\r\n  const { cart, updateQty, remove, clear } = useCart();\r\n  const { user } = useAuth();\r\n  const navigate = useNavigate();\r\n\r\n  const total = cart.reduce((s,i)=> s + (Number(i.price||0) * Number(i.qty||1)), 0);\r\n\r\n  const placeOrder = async () => {\r\n    if(!user) return alert('Please login (demo: set user in session)');\r\n    if(cart.length===0) return alert('Cart empty');\r\n    const payload = { userId: user._id||'demo', username: user.username||'demo', items: cart, totalAmount: total, paymentMethod: 'COD', cashCollected: 0 };\r\n    try{\r\n      const res = await api.placeOrder(payload);\r\n      alert('Order placed: ' + res._id);\r\n      // clear cart\r\n      clear();\r\n      navigate('/orders');\r\n    }catch(err){ console.error(err); alert('Failed to place order'); }\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-6 max-w-4xl mx-auto\">\r\n      <h2 className=\"text-2xl font-bold mb-4\">Your Cart</h2>\r\n      {cart.length===0 ? <p>No items in cart</p> : (\r\n        <div className=\"bg-white p-4 rounded shadow\">\r\n          {cart.map(i=> (\r\n            <div key={i.id} className=\"flex items-center gap-4 border-b py-3\">\r\n              <img src={i.secure_url || i.image} alt={i.name} className=\"w-20 h-20 object-cover rounded\" />\r\n              <div className=\"flex-1\">\r\n                <div className=\"font-semibold\">{i.name}</div>\r\n                <div className=\"text-sm\">₹{i.price}</div>\r\n              </div>\r\n              <div>\r\n                <input type=\"number\" value={i.qty} onChange={(e)=> updateQty(i.id, Number(e.target.value||1))} className=\"w-20 border p-1 rounded\" />\r\n              </div>\r\n              <div className=\"w-24\">₹{Number(i.price||0) * Number(i.qty||1)}</div>\r\n              <button onClick={()=> remove(i.id)} className=\"text-red-500\">Remove</button>\r\n            </div>\r\n          ))}\r\n\r\n          <div className=\"flex justify-between items-center mt-4\">\r\n            <div className=\"font-bold\">Total: ₹{total}</div>\r\n            <div className=\"flex gap-2\">\r\n              <button onClick={()=> navigate('/shop')} className=\"px-3 py-1 border rounded\">Continue</button>\r\n              <button onClick={placeOrder} className=\"px-3 py-1 bg-green-600 text-white rounded\">Place Order (COD)</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":["CartPage","cart","updateQty","remove","clear","useCart","user","useAuth","navigate","useNavigate","total","reduce","s","i","Number","price","qty","_jsxs","className","children","_jsx","length","map","src","secure_url","image","alt","name","type","value","onChange","e","id","target","onClick","async","alert","payload","userId","_id","username","items","totalAmount","paymentMethod","cashCollected","res","api","placeOrder","err","console","error"],"sourceRoot":""}